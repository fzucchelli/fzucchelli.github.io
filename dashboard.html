<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Maestro v3.2 - Dashboard Intelligente</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Link to a Tagify-like CSS if you were to use a library, or custom styles for tag input -->
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0F172A; color: #E2E8F0; }
        .ph-sidebar { background-color: #1E293B; border-right-color: #334155; }
        .ph-header { background-color: #0F172A; border-bottom-color: #334155; }
        .ph-card { background-color: #1E293B; border: 1px solid #334155; box-shadow: 0 2px 5px rgba(0,0,0,0.15), 0 1px 3px rgba(0,0,0,0.2); transition: all 0.25s ease-in-out; border-radius: 0.75rem;}
        .ph-card-hover:hover { border-color: #7C3AED; transform: translateY(-5px); box-shadow: 0 8px 16px rgba(124, 58, 237, 0.25), 0 4px 8px rgba(0,0,0,0.1); }

        .onboarding-progress-bar-gradient { background: linear-gradient(90deg, #A78BFA 0%, #7C3AED 100%); transition: width 0.5s ease; }
        .onboarding-card-animation { animation: fadeInScaleUp 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards; }
        @keyframes fadeInScaleUp { from { opacity: 0; transform: translateY(20px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
        
        .sidebar-link.active { background-color: #334155; color: #F8FAFC; font-weight: 600; }
        .sidebar-link.active i:not(.fa-circle-notch) { color: #A78BFA; }
        .sidebar-link:hover:not(.active) { background-color: #293548; color: #f0f2f5; }
        
        .ph-button-primary { background-color: #7C3AED; color: white; transition: all 0.2s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(124,58,237,0.2); }
        .ph-button-primary:hover { background-color: #6D28D9; transform: translateY(-1px); box-shadow: 0 2px 5px rgba(0,0,0,0.15), 0 2px 4px rgba(124,58,237,0.3); }
        .ph-button-secondary { background-color: #334155; color: #E2E8F0; border: 1px solid #475569; transition: all 0.2s ease; }
        .ph-button-secondary:hover { background-color: #475569; border-color: #64748B; transform: translateY(-1px); }
        .ph-button-accent { background-color: #14B8A6; color: white; transition: all 0.2s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(20,184,166,0.2); }
        .ph-button-accent:hover { background-color: #0D9488; transform: translateY(-1px); box-shadow: 0 2px 5px rgba(0,0,0,0.15), 0 2px 4px rgba(20,184,166,0.3); }
        .ph-button-danger { background-color: #F43F5E; color: white; transition: all 0.2s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 1px 2px rgba(244,63,94,0.2); }
        .ph-button-danger:hover { background-color: #E11D48; transform: translateY(-1px); box-shadow: 0 2px 5px rgba(0,0,0,0.15), 0 2px 4px rgba(244,63,94,0.3); }

        .ph-input, .ph-textarea { background-color: #0F172A; border: 1px solid #334155; color: #E2E8F0; border-radius: 0.5rem; }
        .ph-input:focus, .ph-textarea:focus { border-color: #7C3AED; box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.3); outline: none; }
        .ph-select { background-color: #1E293B; border: 1px solid #334155; color: #E2E8F0; border-radius: 0.5rem; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394A3B8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e"); background-position: right 0.5rem center; background-repeat: no-repeat; background-size: 1.5em 1.5em; padding-right: 2.5rem; -webkit-appearance: none; -moz-appearance: none; appearance: none;}
        .ph-select:focus { border-color: #7C3AED; box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.3); outline: none; }
        
        ::-webkit-scrollbar { width: 10px; height: 10px; }
        ::-webkit-scrollbar-track { background: #0F172A; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 5px; border: 2px solid #0F172A; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
        
        .tag-input-container { display: flex; flex-wrap: wrap; align-items: center; padding: 0.25rem; background-color: #0F172A; border: 1px solid #334155; border-radius: 0.5rem; }
        .tag-input-container:focus-within { border-color: #7C3AED; box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.3); outline: none; }
        .tag-pill { display: inline-flex; align-items: center; background-color: #334155; color: #A78BFA; padding: 0.25rem 0.6rem; border-radius: 9999px; font-size: 0.8rem; margin: 0.125rem; border: 1px solid #475569; }
        .tag-pill .remove-tag-btn { margin-left: 0.4rem; color: #94A3B8; background: none; border: none; cursor: pointer; font-size: 0.7rem; padding:0; line-height: 1; }
        .tag-pill .remove-tag-btn:hover { color: #F43F5E; }
        #itemActionModalTagsActualInput { flex-grow: 1; background: transparent; border: none; outline: none; padding: 0.5rem; color: #E2E8F0; min-width: 100px;}

        .grid-loading { position: relative; opacity: 0.6; pointer-events: none; }
        .grid-loading::after { content: ''; position: absolute; top: 50%; left: 50%; width: 40px; height: 40px; margin-top: -20px; margin-left: -20px; border: 4px solid #A78BFA; border-top-color: transparent; border-radius: 50%; animation: spin 0.8s linear infinite; z-index: 10; }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        .spotlight-tooltip {
            position: fixed;
            background-color: #FDE047; /* Bright Yellow */
            color: #1E293B; /* Dark text for contrast */
            padding: 12px 18px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 1001; /* Above other elements */
            font-size: 0.9rem;
            line-height: 1.4;
            max-width: 300px;
            border: 2px solid #FACC15; /* Darker yellow border */
        }
        .spotlight-tooltip::before { /* Arrow */
            content: '';
            position: absolute;
            border-style: solid;
        }
        .spotlight-tooltip.bottom::before { top: -10px; left: 50%; transform: translateX(-50%); border-width: 0 10px 10px 10px; border-color: transparent transparent #FDE047 transparent; }
        .spotlight-tooltip.top::before { bottom: -10px; left: 50%; transform: translateX(-50%); border-width: 10px 10px 0 10px; border-color: #FDE047 transparent transparent transparent; }
        .spotlight-tooltip.left::before { right: -10px; top: 50%; transform: translateY(-50%); border-width: 10px 0 10px 10px; border-color: transparent transparent transparent #FDE047; }
        .spotlight-tooltip.right::before { left: -10px; top: 50%; transform: translateY(-50%); border-width: 10px 10px 10px 0; border-color: transparent #FDE047 transparent transparent; }
        .spotlight-tooltip button { background-color: #1E293B; color: #FDE047; border: none; padding: 6px 12px; border-radius: 5px; cursor: pointer; margin-top: 10px; font-weight: 500; transition: background-color 0.2s; }
        .spotlight-tooltip button:hover { background-color: #334155; }

        /* Other styles from previous iteration remain the same */
        .ph-card-hover:hover .line-clamp-hover-expand { -webkit-line-clamp: 7; }
        .main-content-section { display: none; } 
        .main-content-section:not(.hidden) { display: block; animation: sectionFadeIn 0.4s ease-out; }
        @keyframes sectionFadeIn { from { opacity: 0.5; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .tooltip { position: relative; display: inline-block; }
        .tooltip .tooltiptext { visibility: hidden; min-width: 120px; background-color: #0F172A; color: #fff; text-align: center; border-radius: 6px; padding: 8px 12px; position: absolute; z-index: 100; bottom: 135%; left: 50%; transform: translateX(-50%); opacity: 0; transition: opacity 0.3s, transform 0.3s; font-size: 0.8rem; line-height: 1.25rem; box-shadow: 0 3px 8px rgba(0,0,0,0.4); border: 1px solid #334155; white-space: nowrap; }
        .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; transform: translateX(-50%) translateY(-5px); }
        .quick-help-tooltip { cursor: help; color: #A78BFA; }
        #persistentHelpTooltip .quick-help-tooltip { color: #14B8A6; }
        mark { background-color: #A78BFA; color: #1E293B; padding: 0.1em 0.2em; border-radius: 3px; }
        .skeleton-loader { animation: pulse 1.8s cubic-bezier(0.4, 0, 0.6, 1) infinite; background-color: #1E293B; }
        .skeleton-loader div { background-color: #334155; }
        #globalItalianTranslationToggleBtn.active i { color: #14B8A6; }
        .variable-chip { background-color: #334155; color: #A78BFA; padding: 3px 10px; border-radius: 9999px; font-size: 0.8rem; margin-right: 6px; margin-bottom: 6px; display: inline-flex; align-items: center; border: 1px solid #475569; transition: all 0.2s ease; }
        .variable-chip:hover { background-color: #475569; border-color: #7C3AED; transform: translateY(-1px); }
        .variable-chip button { margin-left: 8px; color: #94A3B8; background: none; border: none; cursor: pointer; font-size: 0.7rem; padding: 0; line-height: 1; }
        .variable-chip button:hover { color: #F43F5E; }
        .confetti-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; }
        .confetti { width: 10px; height: 10px; background-color: #7C3AED; opacity: 0.7; position: absolute; animation: fall 3s linear forwards; border-radius:2px; }
        @keyframes fall { 0% { transform: translateY(-10vh) rotateZ(0deg); opacity: 0.7; } 100% { transform: translateY(110vh) rotateZ(720deg); opacity: 0; } }
    </style>
    <script>
      tailwind.config = { /* Tailwind config from previous response remains the same */
        theme: {
          extend: {
            colors: {
              brandPurple: { DEFAULT: '#7C3AED', light: '#A78BFA', dark: '#6D28D9' },
              accentTeal: { DEFAULT: '#14B8A6', light: '#2DD4BF', dark: '#0D9488' },
              dangerRose: { DEFAULT: '#F43F5E', light: '#FB7185', dark: '#E11D48' },
              spotlightYellow: { DEFAULT: '#FDE047', dark: '#FACC15', text: '#1E293B'},
              darkBg: { DEFAULT: '#0F172A', card: '#1E293B', uiElement: '#334155', uiElementHover: '#475569' },
              lightText: { DEFAULT: '#E2E8F0', subtle: '#94A3B8', display: '#F8FAFC' }
            },
            borderRadius: { 'xl': '0.75rem', '2xl': '1rem' },
            boxShadow: {
                'md-purple': '0 4px 6px -1px rgba(124, 58, 237, 0.15), 0 2px 4px -1px rgba(124, 58, 237, 0.1)',
                'lg-purple': '0 10px 15px -3px rgba(124, 58, 237, 0.15), 0 4px 6px -2px rgba(124, 58, 237, 0.1)',
            },
            typography: (theme) => ({
                DEFAULT: {
                    css: {
                        color: theme('colors.lightText.DEFAULT'),
                        h1: { fontSize: theme('fontSize.3xl'), fontWeight: theme('fontWeight.bold'), color: theme('colors.lightText.display') },
                        h2: { fontSize: theme('fontSize.2xl'), fontWeight: theme('fontWeight.semibold'), color: theme('colors.lightText.display') },
                        h3: { fontSize: theme('fontSize.xl'), fontWeight: theme('fontWeight.semibold'), color: theme('colors.lightText.display') },
                        code: { 
                            backgroundColor: theme('colors.darkBg.uiElement'), 
                            color: theme('colors.brandPurple.light'),
                            padding: '0.2em 0.5em', 
                            borderRadius: theme('borderRadius.md'),
                            fontWeight: theme('fontWeight.medium'),
                            fontSize: '0.875em'
                        },
                    },
                },
            }),
          }
        }
      };
    </script>
</head>
<body class="text-lightText-DEFAULT flex h-screen antialiased overflow-hidden">

    <!-- Sidebar -->
    <div class="w-64 ph-sidebar flex flex-col shrink-0 shadow-xl">
        <!-- Sidebar content from previous response, unchanged -->
        <div class="p-5 flex items-center space-x-3 border-b border-darkBg-uiElement/70 h-[70px]">
            <a href="/index2.html" class="flex items-center space-x-3 group">
                <div class="bg-gradient-to-br from-brandPurple-light to-brandPurple p-2.5 rounded-lg shadow-lg group-hover:shadow-brandPurple/40 transition-shadow duration-300">
                    <i class="fas fa-brain text-xl text-white"></i>
                </div>
                <h1 class="text-xl font-bold text-lightText-display group-hover:text-brandPurple-light transition-colors">Prompt Maestro</h1>
            </a>
        </div>
        <div class="p-4 space-y-3">
            <button id="createNewPromptSidebarBtn" class="w-full ph-button-secondary py-2.5 rounded-md flex items-center justify-center text-sm font-medium hover:border-accentTeal-light">
                <i class="fas fa-plus mr-2 text-accentTeal-light"></i> Crea Prompt Semplice
            </button>
            <button id="createNewModelSidebarBtn" class="w-full ph-button-primary py-2.5 rounded-md flex items-center justify-center text-sm font-medium shadow-md-purple hover:shadow-lg-purple transform hover:scale-[1.02] transition-all duration-150">
                <i class="fas fa-layer-group mr-2"></i> Crea Modello Avanzato
            </button>
        </div>
        <nav class="flex-1 px-3 py-2 space-y-1.5 overflow-y-auto">
             <!-- Nav content from previous response -->
            <div>
                <div class="px-2 py-1.5 text-xs text-lightText-subtle/80 uppercase font-semibold tracking-wider">Area di Lavoro</div>
                <ul class="space-y-1 mt-1">
                    <li><a href="#" class="sidebar-link active flex items-center justify-between px-3 py-2.5 rounded-md text-sm" data-section="dashboard"><span><i class="fas fa-compass fa-fw mr-3 w-5 text-center text-lightText-subtle"></i> Dashboard</span></a></li>
                    <li><a href="#" class="sidebar-link flex items-center justify-between px-3 py-2.5 rounded-md text-sm" data-section="myPrompts"><span><i class="fas fa-align-left fa-fw mr-3 w-5 text-center text-lightText-subtle"></i> I Miei Prompt</span><span id="sidebarPromptCount" class="text-xs bg-darkBg-uiElementHover text-lightText-subtle px-2 py-0.5 rounded-full">0</span></a></li>
                    <li><a href="#" class="sidebar-link flex items-center justify-between px-3 py-2.5 rounded-md text-sm" data-section="myModels"><span><i class="fas fa-cubes fa-fw mr-3 w-5 text-center text-lightText-subtle"></i> I Miei Modelli</span><span id="sidebarModelCount" class="text-xs bg-brandPurple text-white px-2 py-0.5 rounded-full font-medium">0</span></a></li>
                    <li><a href="#" class="sidebar-link flex items-center justify-between px-3 py-2.5 rounded-md text-sm" data-section="analytics"><span><i class="fas fa-chart-pie fa-fw mr-3 w-5 text-center text-lightText-subtle"></i> Usage Insights</span></a></li>
                </ul>
            </div>
            <div class="pt-3"><div class="px-2 py-1.5 text-xs text-lightText-subtle/80 uppercase font-semibold tracking-wider">Libreria</div><ul class="space-y-1 mt-1"><li><a href="#" class="sidebar-link flex items-center justify-between px-3 py-2.5 rounded-md text-sm" data-section="templates"><span><i class="fas fa-book-sparkles fa-fw mr-3 w-5 text-center text-lightText-subtle"></i> Libreria Modelli</span> <span id="sidebarTemplateCount" class="text-xs bg-darkBg-uiElementHover text-lightText-subtle px-2 py-0.5 rounded-full">0</span></a></li></ul></div>
            <div class="pt-3"><div class="px-2 py-1.5 text-xs text-lightText-subtle/80 uppercase font-semibold tracking-wider">Supporto</div><ul class="space-y-1 mt-1"><li><a href="#" class="sidebar-link flex items-center px-3 py-2.5 rounded-md text-sm" data-section="help"><span><i class="fas fa-question-circle fa-fw mr-3 w-5 text-center text-lightText-subtle"></i> Aiuto & Guide</span></a></li><li><a href="#" class="sidebar-link flex items-center px-3 py-2.5 rounded-md text-sm" data-section="feedback"><span><i class="fas fa-comment-alt-smile fa-fw mr-3 w-5 text-center text-lightText-subtle"></i> Invia Feedback</span></a></li></ul></div>
        </nav>
        <div class="p-4 border-t border-darkBg-uiElement/70 mt-auto">
             <!-- Usage meter from previous response -->
            <div class="bg-darkBg-uiElement/50 p-3.5 rounded-lg border border-darkBg-uiElement/70">
                <div class="flex items-center justify-between mb-1.5"><div class="text-sm font-medium text-lightText-DEFAULT">Piano Gratuito</div><span id="usagePercentageText" class="bg-brandPurple/20 text-brandPurple-light text-xs font-semibold px-2 py-0.5 rounded-full">0%</span></div>
                <div class="w-full bg-darkBg-uiElementHover rounded-full h-2 mb-2 shadow-inner"><div id="usageProgressBar" class="bg-gradient-to-r from-brandPurple-light to-brandPurple h-2 rounded-full" style="width: 0%"></div></div>
                <div id="usageCountText" class="text-xs text-lightText-subtle mb-2.5">0/300 elementi usati</div>
                <button class="w-full ph-button-accent text-xs font-medium py-2 rounded-md hover:shadow-lg transition-shadow"><i class="fas fa-unlock-alt mr-1.5"></i> Sblocca Funzionalità Pro</button>
            </div>
        </div>
    </div>
      
    <div id="mainDashboardContent" class="flex-1 flex flex-col overflow-hidden hidden">
        <header class="ph-header p-4 sticky top-0 z-30 h-[70px] flex items-center">
            <!-- Header content from previous response, unchanged -->
            <div class="flex justify-between items-center w-full">
                <div class="relative w-full max-w-xl">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"> <i class="fas fa-search text-lightText-subtle"></i> </div>
                    <input id="searchDashboardInput" type="text" placeholder="Cerca in tutti i prompt, modelli, tag..." class="ph-input w-full py-2.5 pl-12 pr-4 rounded-lg text-sm placeholder-lightText-subtle/80 focus:shadow-md-purple"/>
                </div>
                <div class="flex items-center space-x-5">
                    <div class="relative tooltip">
                        <button id="globalItalianTranslationToggleBtn" class="text-lightText-subtle hover:text-white transition-colors"> <i class="fas fa-language text-xl"></i> </button>
                        <span class="tooltiptext">Mostra Traduzioni Italiane</span>
                    </div>
                    <div class="relative tooltip">
                        <button class="text-lightText-subtle hover:text-white transition-colors relative"> <i class="fas fa-bell text-xl"></i> <span class="absolute -top-1 -right-1.5 bg-dangerRose-DEFAULT text-white text-[0.6rem] w-4 h-4 rounded-full flex items-center justify-center font-semibold border-2 border-darkBg-DEFAULT">3</span></button>
                        <span class="tooltiptext">Notifiche (Presto!)</span>
                    </div>
                    <div class="relative">
                        <button id="userProfileButton" class="h-9 w-9 bg-gradient-to-br from-brandPurple-light to-brandPurple rounded-full flex items-center justify-center font-bold text-sm cursor-pointer shadow-md hover:opacity-90 ring-2 ring-transparent hover:ring-brandPurple/50 transition-all" title="Profilo Utente"> PM </button>
                        <div id="userProfileDropdown" class="hidden absolute right-0 mt-2.5 w-52 bg-darkBg-card rounded-lg shadow-2xl py-2 z-50 border border-darkBg-uiElement/80">
                             <div class="px-4 py-2 border-b border-darkBg-uiElement"> <p class="text-sm font-medium text-lightText-display">Utente PromptMaestro</p> <p class="text-xs text-lightText-subtle">piano_gratuito@example.com</p> </div>
                             <a href="#" data-section="account" class="block px-4 py-2.5 text-sm text-lightText-DEFAULT hover:bg-darkBg-uiElement sidebar-link"><i class="fas fa-cog mr-2.5 text-lightText-subtle"></i>Impostazioni Account</a>
                             <a href="#" id="setLanguagePrefsBtn" class="block px-4 py-2.5 text-sm text-lightText-DEFAULT hover:bg-darkBg-uiElement"><i class="fas fa-globe mr-2.5 text-lightText-subtle"></i>Preferenze Lingua</a>
                             <hr class="border-darkBg-uiElement my-1">
                             <a href="#" id="logoutButton" class="block px-4 py-2.5 text-sm text-dangerRose-light hover:bg-dangerRose-DEFAULT/10"><i class="fas fa-sign-out-alt mr-2.5"></i>Logout</a>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <main class="flex-1 overflow-y-auto p-6 space-y-8">
            <!-- Dashboard Section -->
            <div id="dashboardSection" class="main-content-section">
                <!-- Content from previous response -->
                <section class="mb-8">
                    <h1 class="text-3xl font-bold mb-1 text-lightText-display">Bentornato, Utente! <span class="text-2xl">👋</span></h1>
                    <p class="text-lightText-subtle text-md">La tua centrale di comando per prompt AI. Pronto a creare meraviglie?</p>
                </section>
                <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <div class="ph-card p-6 rounded-xl bg-gradient-to-br from-darkBg-card to-purple-900/20 border-purple-700/50">
                        <div class="flex items-center text-brandPurple-light mb-2"> <i class="fas fa-align-left text-3xl mr-4"></i> <h3 class="text-lg font-medium text-lightText-display">Prompt Salvati</h3> </div>
                        <p id="statCardTotalPrompts" class="text-5xl font-extrabold text-white">0</p>
                        <p class="text-xs text-lightText-subtle mt-1">Contenuti rapidi e diretti.</p>
                    </div>
                    <div class="ph-card p-6 rounded-xl bg-gradient-to-br from-darkBg-card to-teal-900/20 border-teal-700/50">
                        <div class="flex items-center text-accentTeal-light mb-2"> <i class="fas fa-cubes text-3xl mr-4"></i> <h3 class="text-lg font-medium text-lightText-display">Modelli Avanzati</h3> </div>
                        <p id="statCardTotalModels" class="text-5xl font-extrabold text-white">0</p>
                        <p class="text-xs text-lightText-subtle mt-1">Template riutilizzabili con variabili.</p>
                    </div>
                    <div class="ph-card p-6 rounded-xl">
                         <div class="flex items-center text-amber-400 mb-2"> <i class="fas fa-star text-3xl mr-4"></i> <h3 class="text-lg font-medium text-lightText-display">Più Usato</h3> </div>
                        <p id="statCardMostUsed" class="text-lg font-semibold text-white truncate" title="Ancora nessun dato">N/D</p>
                        <p class="text-xs text-lightText-subtle mt-1">Il tuo cavallo di battaglia (presto!).</p>
                    </div>
                </section>
                <section id="gettingStartedSection" class="ph-card p-6 rounded-xl mb-8 border-2 border-brandPurple/30 bg-darkBg-uiElement/30">
                     <div class="flex justify-between items-start mb-4"><div> <h2 class="text-xl font-semibold text-lightText-display mb-1 flex items-center"><i class="fas fa-rocket mr-3 text-brandPurple-light"></i>Per Iniziare con Prompt Maestro</h2> <p class="text-sm text-lightText-subtle">Completa questi passaggi per sbloccare il pieno potenziale.</p></div><button id="hideGettingStartedBtn" class="text-lightText-subtle hover:text-white text-lg tooltip" title="Nascondi questa sezione"><i class="fas fa-times-circle"></i><span class="tooltiptext">Nascondi</span></button></div>
                    <div id="gettingStartedStepsContainer" class="space-y-3.5"> <!-- Steps will be dynamically injected --> </div>
                    <div class="w-full bg-darkBg-uiElementHover rounded-full h-2 mt-5"><div id="gettingStartedProgressBar" class="bg-gradient-to-r from-brandPurple-light to-accentTeal-light h-2 rounded-full transition-width duration-500" style="width: 0%"></div></div>
                </section>
                <section>
                    <div class="flex flex-col sm:flex-row justify-between sm:items-center mb-5">
                        <h2 class="text-2xl font-semibold text-lightText-display mb-2 sm:mb-0 flex items-center"><i class="fas fa-swatchbook mr-3 text-brandPurple-light"></i>Esplora i Modelli della Libreria</h2>
                        <div class="flex items-center space-x-3">
                             <select id="sortTemplatesFilter" class="ph-select text-sm rounded-lg block p-2.5"> <option value="newest">Ordina: Più Recenti</option> <option value="az">Ordina: A-Z</option><option value="category">Ordina: Categoria</option></select>
                             <select id="categoryFilter" class="ph-select text-sm rounded-lg block w-full sm:w-auto p-2.5"> <option selected value="">Tutte le Categorie</option> </select>
                             <button id="viewAllTemplatesLink" class="ph-button-secondary text-sm font-medium py-2 px-3.5 rounded-lg hover:border-brandPurple-light" data-section-link="templates">Vedi tutti <i class="fas fa-arrow-right ml-1.5"></i></button>
                        </div>
                    </div>
                    <div id="templateLibraryGrid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 relative">
                         <!-- Skeleton loaders will be shown here initially by JS -->
                    </div>
                </section>
            </div>

            <!-- My Prompts Section -->
            <div id="myPromptsSection" class="main-content-section hidden">
                <section>
                    <div class="flex flex-col sm:flex-row justify-between items-center mb-6 pb-4 border-b border-darkBg-uiElement">
                        <h1 class="text-2xl font-semibold text-lightText-display flex items-center"><i class="fas fa-feather-alt mr-3 text-accentTeal-light"></i>I Miei Prompt Salvati</h1>
                        <div class="flex items-center space-x-3 mt-3 sm:mt-0">
                            <select id="sortMyPromptsFilter" class="ph-select text-sm rounded-lg block p-2.5"><option value="newest">Ordina: Più Recenti</option><option value="oldest">Meno Recenti</option><option value="az">A-Z</option></select>
                            <button id="openCreateNewPromptBtnMyPrompts" class="ph-button-secondary py-2 px-4 rounded-lg flex items-center text-sm font-medium hover:border-accentTeal-light"> <i class="fas fa-plus mr-2 text-accentTeal-light"></i> Crea Nuovo Prompt </button>
                        </div>
                    </div>
                    <div id="myPromptsGrid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 relative">
                         <!-- Content injected by JS -->
                    </div>
                </section>
            </div>

            <!-- My Models Section -->
            <div id="myModelsSection" class="main-content-section hidden">
                <section>
                    <div class="flex flex-col sm:flex-row justify-between items-center mb-6 pb-4 border-b border-darkBg-uiElement">
                        <h1 class="text-2xl font-semibold text-lightText-display flex items-center"><i class="fas fa-cogs mr-3 text-brandPurple-light"></i>I Miei Modelli Avanzati</h1>
                        <div class="flex items-center space-x-3 mt-3 sm:mt-0">
                            <select id="sortMyModelsFilter" class="ph-select text-sm rounded-lg block p-2.5"><option value="newest">Ordina: Più Recenti</option><option value="oldest">Meno Recenti</option><option value="az">A-Z</option></select>
                            <button id="openCreateNewModelBtnMyModels" class="ph-button-primary py-2 px-4 rounded-lg flex items-center text-sm font-medium"> <i class="fas fa-layer-group mr-2"></i> Crea Nuovo Modello </button>
                        </div>
                    </div>
                    <div id="myModelsGrid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 relative">
                        <!-- Content injected by JS -->
                    </div>
                </section>
            </div>
            
            <!-- Templates Section (Full Library View) -->
            <div id="templatesSection" class="main-content-section hidden">
                 <section>
                    <div class="flex flex-col sm:flex-row justify-between items-center mb-6 pb-4 border-b border-darkBg-uiElement">
                        <h1 class="text-2xl font-semibold text-lightText-display flex items-center"><i class="fas fa-swatchbook mr-3 text-brandPurple-light"></i>Libreria Modelli Completa</h1>
                        <div class="flex items-center space-x-3 mt-3 sm:mt-0">
                            <select id="sortFullLibraryFilter" class="ph-select text-sm rounded-lg block p-2.5"><option value="newest">Ordina: Più Recenti</option><option value="az">A-Z</option><option value="category">Categoria</option></select>
                            <select id="fullLibraryCategoryFilter" class="ph-select text-sm rounded-lg block p-2.5"><option selected value="">Tutte le Categorie</option></select>
                        </div>
                    </div>
                    <div id="fullTemplateLibraryGrid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6 relative">
                         <!-- Content injected by JS -->
                    </div>
                 </section>
            </div>
            <!-- Other sections (Analytics, Account, Help, Feedback) unchanged from previous response structure -->
            <div id="analyticsSection" class="main-content-section hidden"> <section> <h1 class="text-2xl font-semibold text-lightText-display mb-6 flex items-center"><i class="fas fa-chart-line mr-3 text-accentTeal-light"></i>Usage Insights</h1> <div class="grid grid-cols-1 lg:grid-cols-3 gap-6"> <div class="lg:col-span-2 ph-card p-6 rounded-xl"> <h3 class="text-lg font-medium text-lightText-display mb-1">Panoramica Utilizzo</h3> <p class="text-sm text-lightText-subtle mb-4">Statistiche aggregate dei tuoi contenuti.</p><div class="grid grid-cols-1 sm:grid-cols-3 gap-4"><div><p class="text-xs text-lightText-subtle">Totale Elementi</p><p id="statsTotalItems" class="text-3xl font-bold text-brandPurple-light">0</p></div><div><p class="text-xs text-lightText-subtle">Prompt Semplici</p><p id="statsTotalSimplePrompts" class="text-3xl font-bold text-accentTeal-light">0</p></div><div><p class="text-xs text-lightText-subtle">Modelli Avanzati</p><p id="statsTotalModelsDetail" class="text-3xl font-bold text-brandPurple-light">0</p></div></div></div> <div class="ph-card p-6 rounded-xl"> <h3 class="text-lg font-medium text-lightText-display mb-3">Tag Più Usati</h3> <div id="statsTopTags" class="flex flex-wrap gap-2 text-lightText-subtle">Nessun tag ancora.</div> </div> <div class="lg:col-span-3 ph-card p-6 rounded-xl"> <h3 class="text-lg font-medium text-lightText-display mb-3">Attività Recente</h3> <div id="statsRecentItems" class="text-lightText-DEFAULT space-y-2">Nessun contenuto creato di recente.</div> </div> </div> </section> </div>
            <div id="accountSection" class="main-content-section hidden"><section><h1 class="text-2xl font-semibold text-lightText-display flex items-center"><i class="fas fa-user-cog mr-3 text-brandPurple-light"></i>Impostazioni Account</h1><p class="text-lightText-subtle mt-4 ph-card p-6 rounded-xl"> (Funzionalità in arrivo! Qui potrai gestire il tuo profilo, le preferenze di notifica, i dettagli di fatturazione per i piani Pro e le integrazioni.)</p></section></div>
            <div id="helpSection" class="main-content-section hidden"> <section> <h1 class="text-2xl font-semibold text-lightText-display flex items-center"><i class="fas fa-life-ring mr-3 text-accentTeal-light"></i>Aiuto & Guide</h1> <div class="mt-6 space-y-5"> <div class="ph-card p-6 rounded-xl"> <h3 class="text-lg font-semibold text-lightText-display mb-2 flex items-center">Come scrivere prompt efficaci <i class="fas fa-info-circle quick-help-tooltip ml-2" data-help-id="effectivePrompts"></i></h3> <p class="text-sm text-lightText-subtle leading-relaxed">Sii specifico, fornisci contesto, definisci il formato di output e il tono. Nei Modelli, usa <code>[variabili_chiare_e_parlanti]</code> per massima flessibilità. Es: <code>Crea una descrizione per [nome_prodotto] destinata a [target_audience] con un tono [tono_desiderato].</code></p> <a href="#" class="text-sm text-brandPurple-light hover:underline mt-3 inline-block font-medium">Leggi la guida completa <i class="fas fa-external-link-alt ml-1 text-xs"></i></a> </div> <div class="ph-card p-6 rounded-xl"> <h3 class="text-lg font-semibold text-lightText-display mb-2 flex items-center">FAQ - Domande Frequenti <i class="fas fa-info-circle quick-help-tooltip ml-2" data-help-id="faqHelp"></i></h3>  <p class="text-sm text-lightText-subtle">Trova risposte rapide alle domande più comuni su Prompt Maestro, gestione dei modelli, variabili e altro.</p> <a href="#" class="text-sm text-brandPurple-light hover:underline mt-3 inline-block font-medium">Visualizza FAQ <i class="fas fa-external-link-alt ml-1 text-xs"></i></a> </div> </div> </section> </div>
            <div id="feedbackSection" class="main-content-section hidden"> <section> <h1 class="text-2xl font-semibold text-lightText-display flex items-center"><i class="fas fa-bullhorn mr-3 text-brandPurple-light"></i>Invia Feedback</h1> <p class="text-lightText-subtle mt-2 mb-6">Il tuo parere è prezioso! Aiutaci a migliorare Prompt Maestro.</p> <form id="feedbackForm" class="ph-card p-6 rounded-xl space-y-5"> <div> <label for="feedbackType" class="block text-sm font-medium text-lightText-DEFAULT mb-1.5">Tipo di Feedback</label> <select id="feedbackType" name="feedbackType" class="ph-select w-full text-sm p-2.5 rounded-lg"> <option>Suggerimento Funzionalità</option> <option>Segnalazione Bug</option> <option>Miglioramento UX/UI</option> <option>Domanda</option> <option>Altro</option> </select> </div> <div> <label for="feedbackMessage" class="block text-sm font-medium text-lightText-DEFAULT mb-1.5">Messaggio Dettagliato</label> <textarea id="feedbackMessage" name="feedbackMessage" rows="5" class="ph-textarea w-full text-sm p-2.5 rounded-lg" placeholder="Descrivi la tua idea o il problema riscontrato..." required></textarea> </div> <div> <button type="submit" class="ph-button-primary py-2.5 px-6 rounded-lg text-sm font-medium">Invia Feedback <i class="fas fa-paper-plane ml-2"></i></button> </div> </form> </section> </div>
            <div class="pb-10"></div> 
        </main>
    </div>

    <!-- Onboarding Overlay -->
    <div id="onboardingOverlay" class="fixed inset-0 bg-darkBg-DEFAULT/80 backdrop-blur-lg flex items-center justify-center z-[100] p-4 sm:p-6 overflow-y-auto" style="display: none;">
        <!-- Onboarding content from previous response, unchanged -->
        <div class="w-full max-w-2xl xl:max-w-3xl my-auto ph-card rounded-2xl shadow-2xl border-2 border-brandPurple/30">
             <div class="flex items-center justify-between p-5 sm:p-6 border-b border-darkBg-uiElement/70"> <div class="flex items-center space-x-3.5"> <div class="bg-gradient-to-br from-brandPurple-light to-brandPurple p-2.5 rounded-xl shadow-md-purple"> <i id="onboardingHeaderIcon" class="fas fa-magic-wand-sparkles text-white text-xl"></i> </div> <span id="onboardingHeaderTitle" class="text-xl font-semibold text-lightText-display">Iniziare con Prompt Maestro</span> </div> <button id="onboardingGlobalCloseButton" class="text-lightText-subtle hover:text-white transition-colors p-1.5 rounded-full hover:bg-darkBg-uiElement/60 tooltip" title="Chiudi Tour"> <i class="fas fa-times text-2xl"></i><span class="tooltiptext">Chiudi Tour</span> </button> </div>
            <div class="p-6 sm:p-8">
                <div class="w-full h-2 bg-darkBg-uiElement rounded-full mb-8 shadow-inner"><div id="onboardingProgressBarFill" class="onboarding-progress-bar-gradient h-2 rounded-full" style="width: 0%"></div></div>
                <div id="onboardingCardContainer" class="onboarding-card-animation min-h-[300px]"> <p class="text-center text-lightText-subtle py-10 flex items-center justify-center"><i class="fas fa-circle-notch fa-spin mr-3 text-xl text-brandPurple-light"></i>Caricamento onboarding...</p> </div>
            </div>
        </div>
    </div>

    <!-- Unified Item Action Modal -->
    <div id="itemActionModal" class="fixed inset-0 bg-darkBg-DEFAULT/70 backdrop-blur-md flex items-center justify-center z-[60] p-4 sm:p-6 overflow-y-auto hidden">
        <div class="w-full max-w-3xl my-auto ph-card rounded-2xl shadow-2xl border-2 border-brandPurple/20">
            <div class="flex items-center justify-between p-5 border-b border-darkBg-uiElement/70">
                <h3 id="itemActionModalTitle" class="text-xl font-semibold text-lightText-display flex items-center"><i id="itemActionModalIcon" class="fas fa-pencil-alt mr-3 text-brandPurple-light"></i>Dettagli Elemento</h3>
                <button id="closeItemActionModal" class="text-lightText-subtle hover:text-white p-1.5 rounded-full hover:bg-darkBg-uiElement/60 tooltip" title="Chiudi Finestra"><i class="fas fa-times text-xl"></i><span class="tooltiptext">Chiudi</span></button>
            </div>
            <div class="p-6 space-y-5 max-h-[85vh] overflow-y-auto">
                <input type="hidden" id="itemActionModalItemId">
                <input type="hidden" id="itemActionModalMode">

                <div id="itemActionModalCommonFields" class="space-y-4">
                    <div>
                        <label for="itemActionModalTitleInput" class="block text-sm font-medium text-lightText-DEFAULT mb-1.5">Titolo <span class="text-dangerRose-DEFAULT">*</span></label>
                        <input type="text" id="itemActionModalTitleInput" class="ph-input w-full text-sm p-2.5 rounded-lg">
                    </div>
                </div>
                
                <div id="itemActionModalModelVariableSection" class="hidden space-y-3 pt-2">
                    <!-- Content from previous response, structure unchanged -->
                    <div class="flex justify-between items-center">
                        <h4 class="text-md font-semibold text-lightText-display flex items-center"><i class="fas fa-code-branch mr-2 text-brandPurple-light"></i>Gestione Variabili del Modello <i class="fas fa-info-circle quick-help-tooltip ml-2 text-xs" data-help-id="placeholderUsage"></i></h4>
                        <button id="itemAddVariableButton" class="ph-button-secondary text-xs py-1.5 px-3 rounded-md hover:border-brandPurple-light"><i class="fas fa-plus mr-1.5"></i> Aggiungi Variabile</button>
                    </div>
                    <div id="itemVariablesContainer" class="space-y-3 max-h-60 overflow-y-auto p-4 bg-darkBg-DEFAULT/50 rounded-lg border border-darkBg-uiElement">
                        <p class="text-xs text-lightText-subtle italic text-center py-2 initial-variable-message">Nessuna variabile definita. Clicca "Aggiungi Variabile" o digitala come <code>[nome_variabile]</code> nel testo qui sotto.</p>
                    </div>
                    <p class="text-xs text-lightText-subtle mt-1"><i class="fas fa-lightbulb mr-1.5 text-amber-400"></i>Suggerimento: Puoi anche digitare <code>[nome_variabile]</code> direttamente nel testo del modello qui sotto. Le variabili rilevate appariranno automaticamente qui sopra per la configurazione.</p>
                </div>

                <div id="itemActionModalTextFields" class="space-y-4">
                    <div>
                        <label for="itemActionModalTextEN" class="block text-sm font-medium text-lightText-DEFAULT mb-1.5">Testo del Prompt/Modello (Lingua Originale - EN) <span class="text-dangerRose-DEFAULT">*</span> <i class="fas fa-info-circle quick-help-tooltip ml-1 text-xs" data-help-id="placeholderUsage"></i></label>
                        <textarea id="itemActionModalTextEN" rows="7" class="ph-textarea w-full text-sm p-2.5 rounded-lg font-mono" placeholder="Scrivi qui il tuo prompt o modello... Es. Scrivi una email a [cliente] riguardo [prodotto]. Verrà auto-tradotto se necessario."></textarea>
                         <div class="flex justify-between items-center mt-1.5">
                            <div id="itemActionModalDetectedVariablesPreviewEN" class="text-xs text-lightText-subtle hidden">Variabili rilevate: <span class="font-medium"></span></div>
                            <button id="triggerAutoTranslateBtn" class="ph-button-secondary text-xs py-1 px-2 rounded-md hidden"><i class="fas fa-language mr-1.5"></i> Genera Traduzione IT (Simulata)</button>
                        </div>
                    </div>
                    <!-- Italian text area removed for auto-translation -->
                </div>
                
                <div id="itemActionModalMetadataFields" class="grid grid-cols-1 md:grid-cols-2 gap-x-5 gap-y-4 pt-2">
                    <div>
                        <label for="itemActionModalTags" class="block text-sm font-medium text-lightText-DEFAULT mb-1.5">Tag <span class="text-xs text-lightText-subtle">(premi Invio o virgola per aggiungere)</span></label>
                        <div id="tagInputContainerActual" class="tag-input-container">
                            <!-- Tag pills will be injected here by JS -->
                            <input type="text" id="itemActionModalTagsActualInput" class="ph-input" placeholder="Aggiungi tag...">
                        </div>
                        <input type="hidden" id="itemActionModalTagsStorage"> <!-- Hidden input to store comma-separated tags for submission -->
                    </div>
                    <div> <!-- Category and AI Model fields unchanged from previous response -->
                        <label for="itemActionModalCategory" class="block text-sm font-medium text-lightText-DEFAULT mb-1.5">Categoria</label>
                        <input type="text" id="itemActionModalCategory" class="ph-input w-full text-sm p-2.5 rounded-lg" placeholder="Es. Creazione Contenuti">
                    </div>
                    <div class="md:col-span-2">
                        <label for="itemActionModalAiModel" class="block text-sm font-medium text-lightText-DEFAULT mb-1.5">Modello AI Consigliato / Note <i class="fas fa-info-circle quick-help-tooltip ml-1 text-xs" data-help-id="aiModelNotes"></i></label>
                        <input type="text" id="itemActionModalAiModel" class="ph-input w-full text-sm p-2.5 rounded-lg" placeholder="Es. GPT-4o, Claude 3 Sonnet (per risposte lunghe)">
                    </div>
                </div>
                <!-- Other modal sections (UseModelVariables, Preview, QuickViewInfo) unchanged from previous response structure -->
                <div id="itemActionModalUseModelVariablesSection" class="hidden pt-2">
                    <h4 class="text-md font-semibold text-lightText-display mb-3">Compila le Variabili del Modello:</h4>
                    <div id="itemActionModalUseModelVariableInputs" class="space-y-3.5 max-h-52 overflow-y-auto pr-2 grid grid-cols-1 md:grid-cols-2 gap-x-5"></div>
                    <hr class="border-darkBg-uiElement my-4">
                </div>
                <div id="itemActionModalPreviewSection" class="hidden pt-2"> 
                    <label class="block text-sm font-medium text-lightText-DEFAULT mb-1.5">Anteprima Prompt Finale:</label>
                    <textarea id="itemActionModalCompletedText" rows="7" class="ph-textarea w-full text-sm p-2.5 rounded-lg bg-darkBg-DEFAULT font-mono" readonly placeholder="L'anteprima del prompt compilato apparirà qui..."></textarea>
                </div>
                <div id="itemActionModalQuickViewInfo" class="hidden space-y-3 pt-2">
                    <h4 id="quickViewItemTitle" class="text-2xl font-bold text-lightText-display"></h4>
                    <div class="grid grid-cols-2 gap-x-4 gap-y-2 text-sm">
                        <div><strong class="text-lightText-subtle">Tipo:</strong> <span id="quickViewItemType" class="text-lightText-DEFAULT"></span></div>
                        <div><strong class="text-lightText-subtle">Categoria:</strong> <span id="quickViewItemCategory" class="text-lightText-DEFAULT"></span></div>
                        <div class="col-span-2"><strong class="text-lightText-subtle">Modello AI/Note:</strong> <span id="quickViewItemAIModel" class="text-lightText-DEFAULT"></span></div>
                        <div class="col-span-2"><strong class="text-lightText-subtle">Tags:</strong> <span id="quickViewItemTags" class="flex flex-wrap gap-1.5 mt-1"></span></div>
                    </div>
                    <div id="quickViewItemVariablesInfo" class="text-sm hidden"><strong class="text-lightText-subtle">Variabili Definite:</strong> <div id="quickViewItemVariables" class="flex flex-wrap gap-1.5 mt-1"></div></div>
                    <hr class="border-darkBg-uiElement my-3">
                    <div class="space-y-2">
                        <div><strong class="text-xs uppercase text-lightText-subtle">Testo Originale (EN):</strong><p id="quickViewItemTextEN" class="text-sm text-lightText-DEFAULT bg-darkBg-DEFAULT p-3 rounded-md font-mono whitespace-pre-wrap max-h-40 overflow-y-auto"></p></div>
                        <div id="quickViewItemTextITContainer" class="hidden"><strong class="text-xs uppercase text-lightText-subtle">Testo Tradotto (IT):</strong><p id="quickViewItemTextIT" class="text-sm text-lightText-DEFAULT bg-darkBg-DEFAULT p-3 rounded-md font-mono whitespace-pre-wrap max-h-40 overflow-y-auto"></p></div>
                    </div>
                </div>
                <!-- Action Buttons from previous response -->
                <div id="itemActionModalButtons" class="flex flex-wrap gap-3 pt-4">
                    <button id="saveItemModalButton" class="flex-1 ph-button-primary py-2.5 px-5 rounded-lg text-sm font-medium hidden order-1"> <i class="fas fa-save mr-2"></i> Salva Modifiche </button>
                    <button id="copyItemModalButton" class="flex-grow ph-button-primary py-2.5 px-5 rounded-lg text-sm font-medium min-w-[150px] hidden order-1"> <i class="fas fa-copy mr-2"></i> Copia Testo </button>
                    <button id="copyAndCloseItemModalButton" class="flex-grow ph-button-accent py-2.5 px-5 rounded-lg text-sm font-medium min-w-[150px] hidden order-2"> <i class="fas fa-clipboard-check mr-2"></i> Copia e Chiudi </button>
                    <button id="saveAsMyPromptFromModalButton" class="w-full sm:w-auto ph-button-secondary py-2.5 px-5 rounded-lg text-sm font-medium mt-2 hidden order-3"> <i class="fas fa-plus-circle mr-2"></i> Salva Copia nei Miei Elementi </button>
                    <button id="useThisTemplateFromQuickViewButton" class="w-full sm:w-auto ph-button-primary py-2.5 px-5 rounded-lg text-sm font-medium mt-2 hidden order-1"> <i class="fas fa-bolt mr-2"></i> Usa Questo Modello </button>
                    <button id="closeItemActionModalSecondary" class="ph-button-secondary py-2.5 px-5 rounded-lg text-sm font-medium order-last sm:order-4">Annulla</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Toast Notification Area (unchanged) -->
    <div id="toastNotification" class="fixed bottom-6 right-6 bg-darkBg-card text-white py-3.5 px-6 rounded-xl shadow-2xl text-sm z-[1000] hidden transition-all duration-300 ease-out transform translate-y-10 opacity-0 border-l-4">
        <i id="toastIcon" class="fas mr-3"></i> <span id="toastMessage"></span>
    </div>

    <!-- Persistent Help Tooltip Display Area (unchanged) -->
    <div id="persistentHelpTooltip" class="fixed bottom-6 left-6 bg-darkBg-card text-white py-3.5 px-5 rounded-xl shadow-2xl text-sm z-[1000] hidden max-w-xs border border-brandPurple/50">
        <div class="flex justify-between items-center mb-2"> <h4 id="persistentHelpTitle" class="font-semibold text-brandPurple-light flex items-center"><i class="fas fa-info-circle mr-2"></i>Suggerimento Utile</h4> <button id="closePersistentHelp" class="text-lightText-subtle hover:text-white text-lg">&times;</button> </div>
        <div id="persistentHelpContent" class="text-xs leading-relaxed text-lightText-DEFAULT prose prose-sm prose-invert max-w-none"></div>
    </div>
    <div class="confetti-container"></div>

    <!-- Spotlight Tooltips (Initially Hidden) -->
    <div id="spotlight-translate-toggle" class="spotlight-tooltip hidden">
        <p><strong>Novità!</strong> Clicca qui per passare dalla lingua originale (EN) alla traduzione italiana (se disponibile) per tutti i prompt e modelli.</p>
        <button data-spotlight-id="translate-toggle">Capito!</button>
    </div>
    <div id="spotlight-create-model" class="spotlight-tooltip hidden">
        <p><strong>Inizia da qui!</strong> Crea "Modelli Avanzati" con <code>[variabili]</code> per prompt super flessibili e riutilizzabili.</p>
        <button data-spotlight-id="create-model">Fantastico!</button>
    </div>
    <div id="spotlight-variables-area" class="spotlight-tooltip hidden">
        <p><strong>Potenza Pura!</strong> Definisci qui le tue <code>[variabili]</code>. Scrivile nel testo (es. <code>[cliente]</code>) e appariranno qui, oppure aggiungile manualmente.</p>
        <button data-spotlight-id="variables-area">Ho Capito!</button>
    </div>


<script src="dashboard.js" defer></script>
</body>
</html>